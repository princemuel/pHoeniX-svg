<astro-heart>
  <button>
    <span role="img" aria-label="Heart">ğŸ’œ</span>
  </button> Ã— <span data-id="count">0</span>
</astro-heart>

<script>
  import { create_custom_el } from "@/helpers/custom-elements";
  import { getElement } from "@/helpers/dom";

  class AstroHeart extends HTMLElement {
    constructor() {
      super();
    }
    connectedCallback() {
      let count = 0;

      const heartButton = getElement("button", HTMLButtonElement, this);
      const countSpan = getElement("[data-id='count']", HTMLSpanElement, this);

      heartButton.addEventListener("click", () => {
        count++;
        countSpan.textContent = count.toString();
      });
    }
  }

  create_custom_el("astro-heart", AstroHeart);
</script>
